(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dd57d51"],{"63aa":function(e,t,a){},7899:function(e,t,a){"use strict";var r=a("bee9"),o=a.n(r);o.a},"80c1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("common-layout",[r("img",{staticClass:"logo",attrs:{alt:"logo",src:a("5d2c")}}),r("div",{staticClass:"top"},[r("div",{staticClass:"header"}),r("div",{staticClass:"desc"}),r("div",{staticClass:"language"},[r("a-radio-group",{attrs:{"default-value":null},on:{change:e.changeLocale}},[r("a-radio-button",{key:"en",attrs:{value:"US"}},[e._v(" English ")]),r("a-radio-button",{key:"cn",attrs:{value:"CN"}},[e._v(" 中文 ")])],1)],1),r("div",{staticClass:"login"},[r("a-card",{staticStyle:{width:"450px"}},[r("a-form",{attrs:{form:e.form},on:{submit:e.onSubmit}},[r("a-tabs",{staticStyle:{padding:"0 2px"},attrs:{size:"large",tabBarStyle:{textAlign:"center"}}},[r("a-tab-pane",{key:"1",attrs:{tab:e.i18nBody["ad"]}},[r("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"user cannot be empty",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'user cannot be empty', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"AD User"}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),r("a-select",{staticStyle:{width:"90px"},attrs:{slot:"addonBefore","default-value":"corp"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"corp"}},[e._v(" @corp ")])],1)],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"password cannot be empty",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: 'password cannot be empty', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"Pwd",autocomplete:"autocomplete",type:"password"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),r("a-tab-pane",{key:"2",attrs:{tab:e.i18nBody["user"]}},[r("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"user cannot be empty",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'user cannot be empty', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"Sys User"}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"password cannot be empty",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: 'password cannot be empty', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"Pwd",autocomplete:"autocomplete",type:"password"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),r("a-form-item",[r("a-button",{staticStyle:{width:"100%"},attrs:{loading:e.logging,size:"large",htmlType:"submit",type:"primary"}},[e._v(" "+e._s(e.i18nBody["submit"])+" ")])],1),r("div",[e._e()],1)],1)],1)],1)])])},o=[],s=a("5530"),i=a("d808"),n=a("7ded"),c=a("5880"),l=a("e0bd"),u=a.n(l),d={name:"Login",i18n:u.a,components:{CommonLayout:i["a"]},data:function(){return{i18nBody:{},locale:null,logging:!1,error:"",form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["mapMutations"])("account",["setToken","setUser","setPermissions","setRoles"])),Object(c["mapActions"])("account",["getCurrentUserInfo"])),Object(c["mapActions"])("mapping",["getMap"])),{},{changeLocale:function(e){var t=e.target.value;this.i18nBody=u.a[t]},onSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e){if(!e){t.logging=!0;var a=t.form.getFieldValue("name"),r=t.form.getFieldValue("password");Object(n["c"])({userCode:a,password:r}).then((function(e){var a=e.code,r=e.msg,o=e.data;if(200===a){var s=o.tokenDetail,i=void 0===s?{}:s;t.setToken(i["token"]),t.getMap().then((function(){t.$nextTick((function(){t.$router.push("/home"),t.logging=!1}))}))}else t.error=r})).catch((function(e){t.logging=!1,t.$message.error(t.i18nBody["error500"])}))}}))}}),created:function(){this.i18nBody=u.a["US"]}},m=d,p=(a("7899"),a("0c7c")),g=Object(p["a"])(m,r,o,!1,null,"ac7f9606",null),f=g.exports;t["default"]=f},bee9:function(e,t,a){},d808:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[e._t("default")],2),a("page-footer",{attrs:{"link-list":e.footerLinks,copyright:e.copyright}})],1)},o=[],s=a("5530"),i=a("613e"),n=a("5880"),c={name:"CommonLayout",components:{PageFooter:i["a"]},computed:Object(s["a"])({},Object(n["mapState"])("setting",["footerLinks","copyright"]))},l=c,u=(a("e7d3"),a("0c7c")),d=Object(u["a"])(l,r,o,!1,null,"7dbf5c1a",null);t["a"]=d.exports},e0bd:function(e,t){e.exports={CN:{submit:"登录",logon:"注册",ad:"域用户",user:"系统用户",error500:"请求失败，请联系管理员。"},HK:{submit:"登錄",logon:"注冊",ad:"域用戶",user:"系統用戶",error500:"請求失敗，請聯係管理員。"},US:{submit:"Login",logon:"Logon",ad:"Active Directory",user:"System User",error500:"Request failed, Please advise the admin."}}},e7d3:function(e,t,a){"use strict";var r=a("63aa"),o=a.n(r);o.a}}]);